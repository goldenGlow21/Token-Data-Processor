purchaseImpl(address,address,uint256)